(function(){"use strict";var e,t,n,i,a,r,d;for(n="data-playback-state",t="data-started",e=function(e){var i,a;return a=e.getElementsByTagName("video")[0],i=e.getElementsByTagName("button")[0],a.setAttribute("aria-hidden",!0),e.addEventListener("click",function(){return e.getAttribute(!1)?(a.load(),void(i.innerText="Preparing video.")):a.paused&&e.getAttribute(n)?a.play()["catch"](function(){return i.innerText="Video not resumed. Click to play."}):a.pause()}),a.addEventListener("canplay",function(){return e.setAttribute(n,"ready"),i.innerText="Video ready. Click to play."}),a.addEventListener("playing",function(){if(e.setAttribute(n,"playing"),i.innerText="Playing. Click to pause.",!e.getAttribute(t))return window.parent.postMessage({"function":{name:"ga",arguments:["send","event","Media","Video played"]}},"*"),e.setAttribute(t,!0)}),a.addEventListener("pause",function(){return e.setAttribute(n,"paused"),i.innerText="Paused. Click to play."}),a.addEventListener("ended",function(){return e.setAttribute(n,"stopped"),i.innerText="Playback ended. Click to play.",window.parent.postMessage({"function":{name:"ga",arguments:["send","event","Media","Video played to end"]}},"*")}),a.addEventListener("waiting",function(){return e.setAttribute(n,"loading"),i.innerText="loading"}),a.addEventListener("stalled",function(){return console.log("Video stalled."),i.innerText="Video not loading. Click to force reload.",e.setAttribute(n,"loading"),e.setAttribute("data-click-action","load")})},d=document.getElementsByClassName("tiny-video-player"),i=0,a=d.length;i<a;i++)r=d[i],e(r)}).call(this);